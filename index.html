<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>IPTV PÅ™ehled podle zemÃ­ a sekcÃ­</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script> 
<style>
  body {
    background: #001933;
    color: white;
    font-family: Arial, sans-serif;
    margin: 0; padding: 0 10px 50px;
  }
  h1, h2, h3 {
    margin: 10px 0;
    color: #99ccff; /* JasnÄ›jÅ¡Ã­ barva pro nadpisy */
  }
  .section {
    margin-bottom: 30px;
    padding: 10px;
    border: 1px solid #004080;
    border-radius: 8px;
    background: #00264d;
  }
  button.load-btn, button.refresh-btn {
    background: #0059b3;
    border: none;
    color: white;
    padding: 8px 14px;
    border-radius: 5px;
    cursor: pointer;
    margin-bottom: 10px;
    margin-right: 10px;
    transition: background-color 0.3s;
  }
  button.load-btn:hover, button.refresh-btn:hover {
    background: #003d80;
  }
  button:disabled {
    background: #333;
    cursor: not-allowed;
  }
  ul.channel-list {
    list-style: none;
    padding-left: 0;
    max-height: 350px;
    overflow-y: auto;
    border: 1px solid #004080;
    border-radius: 5px;
    background: #003366;
    margin-top: 5px; /* Mezera od filtru */
    display: none; /* VÃ½chozÃ­ skrytÃ­ seznamu */
  }
  ul.channel-list li {
    padding: 8px 10px;
    border-bottom: 1px solid #004080;
    cursor: pointer;
    user-select: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.15s;
  }
  ul.channel-list li:hover {
    background: #0059b3;
  }
  ul.channel-list li.active {
    background: #0073e6;
  }
  .flag {
    width: 22px;
    vertical-align: middle;
    margin-right: 6px;
  }
  #player-container {
    margin-bottom: 30px;
    text-align: center;
  }
  video {
    width: 100%;
    max-width: 720px;
    height: 405px;
    background: black;
    border-radius: 10px;
  }
  .note {
    font-size: 0.9em;
    color: #ccc;
    margin-top: 5px;
  }
  .channel-info {
    display: flex;
    align-items: center;
    gap: 6px;
    flex-grow: 1;
    font-weight: 600;
  }
  .status {
    margin-left: 10px;
    font-weight: bold;
    font-size: 1.1em;
  }
  .status.ok {
    color: #7fff7f;
  }
  .status.fail {
    color: #ff4d4d;
  }
  .fav-star {
    cursor: pointer;
    font-size: 1.5em;
    user-select: none;
    color: #ccc;
    margin-left: 10px;
    transition: color 0.1s;
  }
  .fav-star.fav {
    color: gold;
  }
  input.filter-input {
    width: 98%;
    padding: 8px 10px;
    margin-bottom: 8px;
    border-radius: 5px;
    border: none;
    font-size: 1em;
    color: #001933;
    display: none; /* VÃ½chozÃ­ skrytÃ­ filtru */
  }
  .subsection {
    margin-top: 15px;
    border-top: 1px solid #004080;
    padding-top: 10px;
  }
</style>
</head>
<body>

<h1>IPTV pÅ™ehled podle zemÃ­ a sekcÃ­</h1>

<div id="player-container">
  <video id="player" controls autoplay muted playsinline></video>
  <div class="note">Klikni na kanÃ¡l v seznamu pro pÅ™ehrÃ¡nÃ­. <br>Video je standardnÄ› **ztlumenÃ©** pro automatickÃ© spuÅ¡tÄ›nÃ­. PouÅ¾ij fullscreen tlaÄÃ­tko pro vÄ›tÅ¡Ã­ obraz.</div>
</div>

<div class="section" id="section-cz">
  <h2>ğŸ‡¨ğŸ‡¿ ÄŒeskÃ¡ republika</h2>
  <button class="load-btn" data-section="cz">Zobrazit ÄeskÃ© kanÃ¡ly</button>
  <button class="refresh-btn" data-section="cz" disabled>OvÄ›Å™it kanÃ¡ly</button>
  <input type="text" class="filter-input" data-section="cz" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
  <ul class="channel-list" id="list-cz"></ul>
</div>

<div class="section" id="section-sk">
  <h2>ğŸ‡¸ğŸ‡° Slovensko</h2>
  <button class="load-btn" data-section="sk">Zobrazit slovenskÃ© kanÃ¡ly</button>
  <button class="refresh-btn" data-section="sk" disabled>OvÄ›Å™it kanÃ¡ly</button>
  <input type="text" class="filter-input" data-section="sk" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
  <ul class="channel-list" id="list-sk"></ul>
</div>

<div class="section" id="section-kids">
  <h2>ğŸ§’ DÄ›tskÃ© kanÃ¡ly</h2>
  <button class="load-btn" data-section="kids">Zobrazit dÄ›tskÃ© kanÃ¡ly</button>
  <button class="refresh-btn" data-section="kids" disabled>OvÄ›Å™it kanÃ¡ly</button>
  <input type="text" class="filter-input" data-section="kids" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
  <ul class="channel-list" id="list-kids"></ul>
</div>

<div class="section" id="section-world">
  <h2>ğŸŒ SvÄ›tovÃ© kanÃ¡ly</h2>

  <div class="subsection" id="world-us">
    <h3>ğŸ‡ºğŸ‡¸ USA</h3>
    <button class="load-btn" data-section="world_us">Zobrazit USA kanÃ¡ly</button>
    <button class="refresh-btn" data-section="world_us" disabled>OvÄ›Å™it kanÃ¡ly</button>
    <input type="text" class="filter-input" data-section="world_us" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
    <ul class="channel-list" id="list-world_us"></ul>
  </div>

  <div class="subsection" id="world-west-eu">
    <h3>ğŸ‡ªğŸ‡º ZÃ¡padnÃ­ Evropa (FR, DE, GB, NL, BE)</h3>
    <button class="load-btn" data-section="world_west_eu">Zobrazit kanÃ¡ly ZÃ¡padnÃ­ Evropy</button>
    <button class="refresh-btn" data-section="world_west_eu" disabled>OvÄ›Å™it kanÃ¡ly</button>
    <input type="text" class="filter-input" data-section="world_west_eu" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
    <ul class="channel-list" id="list-world_west_eu"></ul>
  </div>

  <div class="subsection" id="world-south-eu">
    <h3>ğŸ‡ªğŸ‡º JiÅ¾nÃ­ Evropa (ES, PT, GR, MT)</h3>
    <button class="load-btn" data-section="world_south_eu">Zobrazit kanÃ¡ly JiÅ¾nÃ­ Evropy</button>
    <button class="refresh-btn" data-section="world_south_eu" disabled>OvÄ›Å™it kanÃ¡ly</button>
    <input type="text" class="filter-input" data-section="world_south_eu" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
    <ul class="channel-list" id="list-world_south_eu"></ul>
  </div>

  <div class="subsection" id="world-e-europe">
    <h3>ğŸ‡ªğŸ‡º VÃ½chodnÃ­ Evropa (RU, PL, UA, RO, CZ)</h3>
    <button class="load-btn" data-section="world_e_europe">Zobrazit kanÃ¡ly VÃ½chodnÃ­ Evropy</button>
    <button class="refresh-btn" data-section="world_e_europe" disabled>OvÄ›Å™it kanÃ¡ly</button>
    <input type="text" class="filter-input" data-section="world_e_europe" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
    <ul class="channel-list" id="list-world_e_europe"></ul>
  </div>

  <div class="subsection" id="world-jp">
    <h3>ğŸ‡¯ğŸ‡µ Japonsko</h3>
    <button class="load-btn" data-section="world_jp">Zobrazit japonskÃ© kanÃ¡ly</button>
    <button class="refresh-btn" data-section="world_jp" disabled>OvÄ›Å™it kanÃ¡ly</button>
    <input type="text" class="filter-input" data-section="world_jp" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
    <ul class="channel-list" id="list-world_jp"></ul>
  </div>

  <div class="subsection" id="world-ca">
    <h3>ğŸ‡¨ğŸ‡¦ Kanada</h3>
    <button class="load-btn" data-section="world_ca">Zobrazit kanadskÃ© kanÃ¡ly</button>
    <button class="refresh-btn" data-section="world_ca" disabled>OvÄ›Å™it kanÃ¡ly</button>
    <input type="text" class="filter-input" data-section="world_ca" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
    <ul class="channel-list" id="list-world_ca"></ul>
  </div>

  <div class="subsection" id="world-au">
    <h3>ğŸ‡¦ğŸ‡º AustrÃ¡lie</h3>
    <button class="load-btn" data-section="world_au">Zobrazit australskÃ© kanÃ¡ly</button>
    <button class="refresh-btn" data-section="world_au" disabled>OvÄ›Å™it kanÃ¡ly</button>
    <input type="text" class="filter-input" data-section="world_au" placeholder="Filtrovat kanÃ¡lyâ€¦" disabled />
    <ul class="channel-list" id="list-world_au"></ul>
  </div>
  
</div>

<script>
  // IPTV playlisty podle kategoriÃ­ (pÅ™idej dalÅ¡Ã­ playlisty, jak chceÅ¡)
  const playlists = {
    cz: [
      'https://iptv-org.github.io/iptv/countries/cz.m3u',
      'https://raw.githubusercontent.com/Popik666/IPTV/master/czech.m3u',
    ],
    sk: [
      'https://iptv-org.github.io/iptv/countries/sk.m3u',
      'https://raw.githubusercontent.com/Popik666/IPTV/master/slovak.m3u',
    ],
    kids: [
      'https://iptv-org.github.io/iptv/categories/kids.m3u',
      'https://raw.githubusercontent.com/Popik666/IPTV/master/kids.m3u',
    ],
    world_us: [
      'https://iptv-org.github.io/iptv/countries/us.m3u',
      'https://raw.githubusercontent.com/Popik666/IPTV/master/us.m3u',
    ],
    world_west_eu: [
      'https://iptv-org.github.io/iptv/countries/fr.m3u',
      'https://iptv-org.github.io/iptv/countries/de.m3u',
      'https://iptv-org.github.io/iptv/countries/gb.m3u',
      'https://iptv-org.github.io/iptv/countries/nl.m3u',
      'https://iptv-org.github.io/iptv/countries/be.m3u',
    ],
    world_south_eu: [
      'https://iptv-org.github.io/iptv/countries/es.m3u',
      'https://iptv-org.github.io/iptv/countries/pt.m3u',
      'https://iptv-org.github.io/iptv/countries/gr.m3u',
      'https://iptv-org.github.io/iptv/countries/mt.m3u',
    ],
    world_e_europe: [
      'https://iptv-org.github.io/iptv/countries/ru.m3u',
      'https://iptv-org.github.io/iptv/countries/pl.m3u',
      'https://iptv-org.github.io/iptv/countries/ua.m3u',
      'https://iptv-org.github.io/iptv/countries/ro.m3u',
      'https://iptv-org.github.io/iptv/countries/cz.m3u',
    ],
    world_jp: [
      'https://iptv-org.github.io/iptv/countries/jp.m3u',
    ],
    world_ca: [
      'https://iptv-org.github.io/iptv/countries/ca.m3u',
    ],
    world_au: [
      'https://iptv-org.github.io/iptv/countries/au.m3u',
    ],
  };

  // UloÅ¾enÃ© kanÃ¡ly a stav
  const loadedChannels = {};
  const favChannels = JSON.parse(localStorage.getItem('favChannels') || '{}');

  // NaÄti playlist M3U formÃ¡tu
  async function loadM3U(url) {
    try {
      const resp = await fetch(url);
      if (!resp.ok) throw new Error('NepodaÅ™ilo se naÄÃ­st playlist: ' + url);
      const text = await resp.text();
      const lines = text.split(/\r?\n/);
      const channels = [];
      for (let i = 0; i < lines.length; i++) {
        if (lines[i].startsWith('#EXTINF')) {
          const name = lines[i].split(',')[1]?.trim() || 'Unknown';
          const urlLine = lines[i + 1];
          if (urlLine && (urlLine.startsWith('http') || urlLine.startsWith('rtmp') || urlLine.startsWith('rtsp'))) {
            // PÅ™idÃ¡me nÃ¡zev playlistu jako informaci pro lepÅ¡Ã­ odliÅ¡enÃ­, pokud mÃ¡ kanÃ¡l stejnÃ½ nÃ¡zev
            channels.push({ name, url: urlLine, source: url }); 
          }
        }
      }
      return channels;
    } catch (e) {
      console.error(e);
      return [];
    }
  }

  // OvÄ›Å™enÃ­ jestli je kanÃ¡l pÅ™ehratelnÃ½ (zjednoduÅ¡enÃ¡ verze)
  async function checkChannel(url) {
    // POZNÃMKA: Kontrola funkÄnosti streamu na stranÄ› klienta je sloÅ¾itÃ¡ a nespolehlivÃ¡ kvÅ¯li CORS.
    // Pro produkÄnÃ­ pouÅ¾itÃ­ se tato logika doporuÄuje pÅ™esunout na server.
    return new Promise((resolve) => {
        const testVideo = document.createElement('video');
        let timeoutId;

        function cleanUp() {
            testVideo.src = '';
            testVideo.load();
            testVideo.remove();
            clearTimeout(timeoutId);
        }

        testVideo.src = url;
        testVideo.preload = 'none'; 
        testVideo.muted = true;
        testVideo.playsInline = true;

        const checkReadyState = () => {
            if (testVideo.readyState >= 1) { 
                cleanUp();
                resolve(true); 
            } else if (testVideo.error) {
                cleanUp();
                resolve(false);
            } else {
                setTimeout(checkReadyState, 500); 
            }
        };

        testVideo.addEventListener('loadedmetadata', () => {
             cleanUp();
             resolve(true);
        }, { once: true });

        testVideo.addEventListener('error', () => {
             cleanUp();
             resolve(false);
        }, { once: true });

        // Timeout po 5 sekundÃ¡ch
        timeoutId = setTimeout(() => {
            cleanUp();
            resolve(false);
        }, 5000);

        testVideo.load();
    });
  }

  // Zobraz kanÃ¡ly sekce
  async function loadSection(section) {
    const listEl = document.getElementById('list-' + section);
    const filterInput = document.querySelector(`.filter-input[data-section="${section}"]`);
    const refreshBtn = document.querySelector(`.refresh-btn[data-section="${section}"]`);
    if (!listEl || !filterInput || !refreshBtn) return;

    const isLoaded = !!loadedChannels[section];

    // Toggle zobrazenÃ­
    const isVisible = listEl.style.display === 'block';
    
    if (isVisible && isLoaded) {
      listEl.style.display = 'none';
      filterInput.style.display = 'none';
      refreshBtn.disabled = true;
      filterInput.disabled = true;
      return;
    }

    // NaÄÃ­tÃ¡nÃ­
    if (!isLoaded) {
      listEl.innerHTML = '<li>NaÄÃ­tÃ¡m kanÃ¡ly a kontroluji funkÄnost...</li>';
      listEl.style.display = 'block';
      refreshBtn.disabled = true;
      filterInput.disabled = true;
      
      const urls = playlists[section];
      if (!urls) {
        listEl.innerHTML = '<li>Å½Ã¡dnÃ© playlisty k naÄtenÃ­.</li>';
        refreshBtn.disabled = true;
        filterInput.disabled = true;
        return;
      }
      
      let allChannels = [];
      for (const url of urls) {
        const chans = await loadM3U(url);
        allChannels = allChannels.concat(chans);
      }
      
      if (allChannels.length === 0) {
        listEl.innerHTML = '<li>Nebyly nalezeny Å¾Ã¡dnÃ© kanÃ¡ly.</li>';
        refreshBtn.disabled = false;
        filterInput.disabled = true;
        return;
      }
      
      // OdebrÃ¡nÃ­ duplikÃ¡tÅ¯ (podle URL)
      const uniqueChannels = [];
      const seenUrls = new Set();
      allChannels.forEach(ch => {
        if (!seenUrls.has(ch.url)) {
          uniqueChannels.push(ch);
          seenUrls.add(ch.url);
        }
      });

      // Testuj kanÃ¡ly (mÅ¯Å¾e to chvÃ­li trvat)
      const results = await Promise.all(uniqueChannels.map(async ch => {
        // POZNÃMKA: Kontrola je nynÃ­ pomalejÅ¡Ã­, ale realistiÄtÄ›jÅ¡Ã­ pro IPTV.
        const isPlayable = await checkChannel(ch.url);
        return {...ch, playable: isPlayable};
      }));

      loadedChannels[section] = results;

      // PovolÃ­me ovlÃ¡dacÃ­ prvky po naÄtenÃ­
      refreshBtn.disabled = false;
      filterInput.disabled = false;
    }
    
    // ZobrazenÃ­ po naÄtenÃ­ / toggle
    listEl.style.display = 'block';
    filterInput.style.display = 'block';
    renderChannels(section);
  }

  // Renderuj kanÃ¡ly podle filtru
  function renderChannels(section) {
    const listEl = document.getElementById('list-' + section);
    const filterInput = document.querySelector(`.filter-input[data-section="${section}"]`);
    if (!listEl || !loadedChannels[section]) return;

    const filter = filterInput.value.toLowerCase();
    listEl.innerHTML = '';

    // SeÅ™azenÃ­: OblÃ­benÃ© kanÃ¡ly nahoÅ™e, pak zbytek abecednÄ›
    const sortedChannels = loadedChannels[section].slice().sort((a, b) => {
        const aFav = favChannels[a.url] ? 0 : 1;
        const bFav = favChannels[b.url] ? 0 : 1;
        if (aFav !== bFav) return aFav - bFav;
        return a.name.localeCompare(b.name);
    });

    sortedChannels
      .filter(ch => ch.name.toLowerCase().includes(filter))
      .forEach(ch => {
        const li = document.createElement('li');

        // KanÃ¡l info a nÃ¡zev + status
        const infoSpan = document.createElement('span');
        infoSpan.className = 'channel-info';
        infoSpan.textContent = ch.name;

        const statusSpan = document.createElement('span');
        statusSpan.className = 'status ' + (ch.playable ? 'ok' : 'fail');
        statusSpan.textContent = ch.playable ? 'âœ”' : 'âœ–';
        statusSpan.title = ch.playable ? 'PravdÄ›podobnÄ› funkÄnÃ­' : 'PravdÄ›podobnÄ› nefunkÄnÃ­';

        // OblÃ­benÃ© hvÄ›zdiÄka
        const favStar = document.createElement('span');
        favStar.className = 'fav-star';
        favStar.innerHTML = favChannels[ch.url] ? 'â˜…' : 'â˜†';
        if (favChannels[ch.url]) favStar.classList.add('fav');

        // Oprava logiky uklÃ¡dÃ¡nÃ­ oblÃ­benÃ½ch
        favStar.addEventListener('click', e => {
          e.stopPropagation();
          if (favChannels[ch.url]) {
            delete favChannels[ch.url];
            favStar.innerHTML = 'â˜†';
            favStar.classList.remove('fav');
          } else {
            favChannels[ch.url] = true; 
            favStar.innerHTML = 'â˜…';
            favStar.classList.add('fav');
          }
          localStorage.setItem('favChannels', JSON.stringify(favChannels));
          // Po zmÄ›nÄ› oblÃ­benÃ½ch pÅ™ekreslÃ­me, aby se oblÃ­benÃ© dostaly nahoru
          renderChannels(section); 
        });

        // KliknutÃ­ na kanÃ¡l â€“ pÅ™ehrÃ¡t
        li.addEventListener('click', () => {
          playChannel(ch.url, li, listEl);
        });

        li.appendChild(infoSpan);
        li.appendChild(statusSpan);
        li.appendChild(favStar);
        listEl.appendChild(li);
      });
  }

  // PÅ™ehraj kanÃ¡l v playeru a oznaÄ aktivnÃ­
  function playChannel(url, clickedLi, listEl) {
    const video = document.getElementById('player');
    const urlLower = url.toLowerCase();

    // 1. UvolnÄ›nÃ­ zdroje, pokud byl naÄten pÅ™es hls.js
    if (video.hlsInstance) {
        video.hlsInstance.destroy();
        video.hlsInstance = null;
    }
    video.src = ''; // Vynulovat src pro ÄistÃ½ start

    // 2. Kontrola, zda se jednÃ¡ o HLS stream (.m3u8) a je podporovÃ¡n prohlÃ­Å¾eÄem
    if (urlLower.includes('.m3u8') && Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(url);
        hls.attachMedia(video);
        video.hlsInstance = hls; // UloÅ¾Ã­me instanci hls pro pozdÄ›jÅ¡Ã­ ÄiÅ¡tÄ›nÃ­
        
        hls.on(Hls.Events.MANIFEST_PARSED, function() {
            video.play().catch(e => console.log("HLS pÅ™ehrÃ¡vÃ¡nÃ­ se nezdaÅ™ilo:", e));
        });
        hls.on(Hls.Events.ERROR, function(event, data) {
            console.error("HLS chyba:", data);
            // MÅ¯Å¾eme se pokusit o nativnÃ­ pÅ™ehrÃ¡vÃ¡nÃ­ jako zÃ¡lohu
            if (data.fatal) {
                if (video.hlsInstance) video.hlsInstance.destroy();
                video.hlsInstance = null;
                video.src = url; // NativnÃ­ pokus
                video.play().catch(e => console.log("NativnÃ­ pÅ™ehrÃ¡vÃ¡nÃ­ se nezdaÅ™ilo po HLS chybÄ›:", e));
            }
        });

    // 3. NativnÃ­ pÅ™ehrÃ¡vÃ¡nÃ­ pro MP4, RTMP, nebo tam, kde HLS nenÃ­ podporovÃ¡n
    } else {
        video.src = url;
        video.play().catch(e => console.log("NativnÃ­ pÅ™ehrÃ¡vÃ¡nÃ­ se nezdaÅ™ilo:", e));
    }

    // OznaÄenÃ­ aktivnÃ­ho kanÃ¡lu v seznamu
    if (listEl) {
      const parentSection = listEl.closest('.section');
      parentSection.querySelectorAll('li').forEach(li => li.classList.remove('active'));
      clickedLi.classList.add('active');
    }
  }

  // Filtrace kanÃ¡lÅ¯ podle vstupu
  function setupFilterInputs() {
    document.querySelectorAll('input.filter-input').forEach(input => {
      const section = input.dataset.section;
      input.addEventListener('input', () => {
        if (loadedChannels[section]) {
            renderChannels(section);
        }
      });
    });
  }

  // ObnovenÃ­ kontroly kanÃ¡lÅ¯ (retest)
  async function refreshChannels(section) {
    const refreshBtn = document.querySelector(`.refresh-btn[data-section="${section}"]`);
    const listEl = document.getElementById('list-' + section);
    if (!refreshBtn || !listEl) return;
    
    refreshBtn.disabled = true;
    listEl.innerHTML = '<li>Kontroluji kanÃ¡ly, prosÃ­m Äekejte...</li>';

    const channels = loadedChannels[section];
    if (!channels) {
      listEl.innerHTML = '<li>Nejsou naÄteny Å¾Ã¡dnÃ© kanÃ¡ly pro kontrolu.</li>';
      refreshBtn.disabled = false;
      return;
    }

    // ZachovÃ¡me pouze URL a jmÃ©no pro retest
    const simpleChannels = channels.map(ch => ({ name: ch.name, url: ch.url }));

    const results = await Promise.all(simpleChannels.map(async ch => {
      const isPlayable = await checkChannel(ch.url);
      return {...ch, playable: isPlayable};
    }));

    loadedChannels[section] = results;
    renderChannels(section);
    refreshBtn.disabled = false;
  }

  // Inicializace tlaÄÃ­tek a filtrÅ¯
  function init() {
    document.querySelectorAll('button.load-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const section = btn.dataset.section;
        loadSection(section);
      });
    });
    document.querySelectorAll('button.refresh-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const section = btn.dataset.section;
        refreshChannels(section);
      });
    });
    setupFilterInputs();
  }

  // Start
  init();

</script>

</body>
</html>
