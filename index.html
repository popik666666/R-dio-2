<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Doplň vtip - hra</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: url('pozadi.jpg') no-repeat center center fixed;
      background-size: cover;
      color: white;
      position: relative;
      min-height: 100vh;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 0;
    }
    #game-container {
      position: relative;
      z-index: 1;
      max-width: 600px;
      margin: 40px auto;
      padding: 20px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 12px;
      box-shadow: 0 0 10px #000;
      text-align: center;
    }
    .vtip {
      font-size: 1.3em;
      margin-bottom: 20px;
      min-height: 100px;
    }
    button {
      margin: 10px 5px;
      padding: 12px 20px;
      font-size: 1em;
      cursor: pointer;
      border: 2px solid #fff;
      border-radius: 5px;
      background: transparent;
      color: white;
      transition: background 0.3s, color 0.3s;
    }
    button:hover {
      background: white;
      color: black;
    }
    .score {
      margin-top: 20px;
      font-weight: bold;
      font-size: 1.2em;
    }
    .timer {
      font-size: 1.2em;
      color: #ff5555;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>

  <div id="game-container">
    <h1>Doplň vtip</h1>
    <div class="timer">Čas: <span id="time">15</span> s</div>
    <div class="vtip" id="vtip">Načítám...</div>
    <div id="moznosti"></div>
    <div class="score">Skóre: <span id="score">0</span></div>
    <button id="toggleMusic">Zapnout/vypnout hudbu</button>
  </div>

  <script>
    const vtipy = [
      {"text":"Proč se kostra bála jít do _______?","answer":"lesa","wrong":["města","školy"]},
      {"text":"Když pes umře, tak jde do _______.","answer":"psího","wrong":["nebe","pekla"]},
      {"text":"Co má společného černý humor a _______? Nikdo jim nerozumí.","answer":"matematika","wrong":["politika","sport"]},
      {"text":"Vtipy o mrtvých jsou jako _______: někomu vadí, jiní se smějí.","answer":"krev","wrong":["krvavé filmy","temnota"]},
      {"text":"Jaký je rozdíl mezi zombie a mým bývalým? Zombie aspoň _______.","answer":"chodí","wrong":["mluví","spí"]},
      {"text":"Proč mají duchové rádi _______? Protože jsou tam neviditelní.","answer":"mlhu","wrong":["slunce","teplo"]},
      {"text":"Když umře počítač, skončí v _______.","answer":"recyklaci","wrong":["nebi","pekli"]},
      {"text":"Proč upíři nemají rádi _______? Protože je to konec párty.","answer":"ranní slunce","wrong":["večer","noc"]},
      {"text":"Co dělá zombie na pláži? Hledá _______.","answer":"mozek","wrong":["slunce","plážový míč"]},
      {"text":"Vtip o mrtvých je jako _______: může být studený nebo suchý.","answer":"hrob","wrong":["poušť","víno"]},
      {"text":"Co řekl kostlivec, když se mu zlomila žebra? 'To je _______!'","answer":"konec hry","wrong":["vtipné","legrační"]},
      {"text":"Proč se netopýři bojí _______? Protože jsou to netopýři denního světla.","answer":"světla","wrong":["tmy","hluku"]},
      {"text":"Jak poznáš upíra v klubu? Je jediný, kdo nekouří a nepije _______.","answer":"víno","wrong":["vodku","pivo"]},
      {"text":"Co mají společného čarodějnice a programátoři? Oba používají _______.","answer":"kouzla","wrong":["klávesnice","myš"]},
      {"text":"V noci je tma, ale _______ září nejvíc.","answer":"měsíc","wrong":["slunce","hvězdy"]},
      {"text":"Proč se kostry nikdy nehádají? Protože nemají _______.","answer":"srdce","wrong":["hlavu","náladu"]},
      {"text":"Co dělá duch, když má volno? Chodí na _______.","answer":"procházky","wrong":["party","pláž"]},
      {"text":"Jaký je oblíbený sport zombie? _______.","answer":"běh","wrong":["fotbal","plavání"]},
      {"text":"Proč se kostry neúčastní závodů? Nemají _______.","answer":"svaly","wrong":["hlavu","nohy"]},
      {"text":"Když zombie vypráví vtip, všichni se smějí kromě _______.","answer":"mozků","wrong":["koster","duchů"]},
      {"text":"Co dělá upír, když je unavený? Dává si _______.","answer":"pauzu","wrong":["kávu","čaj"]},
      {"text":"Proč se strašidla bojí světla? Protože jsou _______.","answer":"průsvitná","wrong":["černá","silná"]},
      {"text":"Jak poznáš čarodějnici? Má vždy po ruce _______.","answer":"koště","wrong":["mobil","knihu"]},
      {"text":"Proč se kostra stydí? Protože má _______.","answer":"průhlednost","wrong":["zuby","hlavu"]},
      {"text":"Jaký je oblíbený nápoj upírů? _______.","answer":"krev","wrong":["víno","káva"]},
      {"text":"Proč je černý humor oblíbený? Protože je _______.","answer":"ostrý","wrong":["sladký","nudný"]},
      {"text":"Co řekne kostra, když slyší vtip? 'To je _______!'","answer":"vtipné","wrong":["strašné","nudné"]},
      {"text":"Proč se zombie nikdy nezlobí? Protože nemají _______.","answer":"mozky","wrong":["srdce","hlavu"]},
      {"text":"Jak se říká duchovi, který miluje tanec? _______.","answer":"tanečník","wrong":["přísaha","strašidlo"]},
      {"text":"Co má upír vždy s sebou? _______.","answer":"plášť","wrong":["deštník","klobouk"]},
      {"text":"Proč čarodějnice nikdy nesledují televizi? Protože raději používají _______.","answer":"kouzla","wrong":["ovladač","telefon"]},
      {"text":"Jaký je nejlepší způsob, jak se zbavit kostry? _______.","answer":"přesvědčit ji","wrong":["utečit","schovat se"]},
      {"text":"Co dělají duchové ráno? _______.","answer":"vstanou","wrong":["spí","jedí"]},
      {"text":"Proč se kostry bojí lásky? Protože mohou být _______.","answer":"zlomené","wrong":["zraněné","ztracené"]},
      {"text":"Jak se jmenuje upír, který rád tančí? _______.","answer":"Fred","wrong":["Tom","Jim"]},
      {"text":"Co má černý humor společného s nočním životem? Oba jsou _______.","answer":"temní","wrong":["světlí","barevní"]},
      {"text":"Proč se strašidla schovávají ve skříních? Protože tam mají _______.","answer":"klid","wrong":["strach","tmu"]},
      {"text":"Jaký je oblíbený film kostry? _______.","answer":"Piráti z Karibiku","wrong":["Titanic","Matrix"]},
      {"text":"Proč jsou upíři špatní ve sportu? Protože nemají _______.","answer":"sílu","wrong":["rychlost","výdrž"]},
      {"text":"Co dělají kostry, když prší? _______.","answer":"schovávají se","wrong":["tančí","smějí se"]},
      {"text":"Proč se čarodějnice smějí? Protože mají _______.","answer":"vtipné kouzla","wrong":["strašné klobouky","hloupé přátele"]},
      {"text":"Jaký je nejlepší způsob, jak vyděsit zombie? _______.","answer":"zrcadlo","wrong":["křik","světlo"]},
      {"text":"Proč upíři nenávidí zuby? Protože jim _______.","answer":"bolí","wrong":["chybí","rostou"]},
      {"text":"Co dělají duchové v létě? _______.","answer":"plavou","wrong":["spí","chodí na dovolenou"]},
      {"text":"Proč je černý humor jako káva? Oba jsou _______.","answer":"hořké","wrong":["sladké","studené"]},
      {"text":"Jak poznáš kostru na večírku? Podle _______.","answer":"tančících kostí","wrong":["oblečení","bot"]},
      {"text":"Co mají společného upíři a programátoři? Oba se bojí _______.","answer":"bugů","wrong":["světla","hluku"]},
      {"text":"Proč duchové nikdy nejedí? Protože jsou _______.","answer":"neviditelní","wrong":["hladoví","rychlí"]},
      {"text":"Jak se jmenuje oblíbená píseň zombie? _______.","answer":"Thriller","wrong":["Beat It","Smooth Criminal"]},
      {"text":"Proč se čarodějnice bojí technologie? Protože jí nerozumí a raději používají _______.","answer":"kouzla","wrong":["počítače","telefony"]},
      {"text":"Co říká kostra, když je unavená? 'Potřebuji _______!'","answer":"pauzu","wrong":["jídlo","spánek"]},
      {"text":"Proč upíři chodí v noci? Protože se bojí _______.","answer":"slunce","wrong":["měsíce","hvězd"]},
      {"text":"Jaký je nejoblíbenější sport duchů? _______.","answer":"fotbal","wrong":["tenis","basketbal"]},
      {"text":"Co dělají kostry v zimě? _______.","answer":"schovávají se","wrong":["tančí","plavou"]},
      {"text":"Proč je černý humor populární? Protože je _______.","answer":"nečekaný","wrong":["nudný","předvídatelný"]},
      {"text":"Jak se říká upírovi, který miluje hudbu? _______.","answer":"DJ","wrong":["zpěvák","bubeník"]},
      {"text":"Proč se kostry bojí lásky? Protože je může _______.","answer":"zranit","wrong":["zradit","opustit"]},
      {"text":"Co říká duch, když je šťastný? 'Jsem _______!'","answer":"volný","wrong":["smutný","unavený"]},
      {"text":"Jak poznáš čarodějnici v obchodě? Má vždycky u sebe _______.","answer":"koště","wrong":["peněženku","mobil"]},
      {"text":"Proč upíři nikdy nejdou na pláž? Protože nesnáší _______.","answer":"slunce","wrong":["vlny","písek"]},
      {"text":"Co dělá kostra, když se nudí? _______.","answer":"tančí","wrong":["spí","běhá"]},
      {"text":"Proč se černý humor hodí na večírky? Protože je _______.","answer":"ostrá zábava","wrong":["nudná","pomalá"]},
      {"text":"Jaký je nejoblíbenější nápoj duchů? _______.","answer":"duchovní voda","wrong":["víno","pivo"]},
      {"text":"Proč se kostry nesmějí? Protože nemají _______.","answer":"svaly na tváři","wrong":["hlavu","nos"]},
      {"text":"Co dělá upír, když je hladový? _______.","answer":"pije krev","wrong":["jí maso","pije vodu"]},
      {"text":"Proč duchové nenávidí léto? Protože je moc _______.","answer":"teplo","wrong":["studené","vlhké"]},
      {"text":"Jak poznáš kostru v baru? Podle _______.","answer":"prázdné sklenice","wrong":["oblečení","bot"]},
      {"text":"Co mají společného zombie a politici? Oba jsou _______.","answer":"bez mozku","wrong":["chytří","upřímní"]},
      {"text":"Proč se čarodějnice smějí? Protože vědí, jak používat _______.","answer":"kouzla","wrong":["vtipy","telefon"]},
      {"text":"Co dělá duch, když je smutný? _______.","answer":"pláče","wrong":["spí","tancuje"]},
      {"text":"Proč se upíři bojí zubaře? Protože mají _______.","answer":"ostré zuby","wrong":["slabé zuby","žádné zuby"]},
      {"text":"Jaký je nejlepší způsob, jak vyděsit kostru? _______.","answer":"hluk","wrong":["světlo","voda"]},
      {"text":"Proč se duchové bojí vody? Protože jsou _______.","answer":"průsvitní","wrong":["těžcí","teplí"]},
      {"text":"Co dělají kostry, když mají hlad? _______.","answer":"žerou kosti","wrong":["jí maso","pijí krev"]},
      {"text":"Proč se čarodějnice bojí zrcadla? Protože v něm nevidí _______.","answer":"své oči","wrong":["svůj nos","své vlasy"]},
      {"text":"Jak se jmenuje upír, který rád sportuje? _______.","answer":"Vlad","wrong":["Jan","Petr"]},
      {"text":"Co mají společného duchové a počítače? Oba mají _______.","answer":"bugy","wrong":["programy","viry"]},
      {"text":"Proč se kostry bojí tmy? Protože nevidí své _______.","answer":"kosti","wrong":["oči","srdce"]}
    ];

    let score = 0;
    let currentIndex = -1;
    let timeLeft = 15;
    let timerInterval;

    const vtipEl = document.getElementById('vtip');
    const moznostiEl = document.getElementById('moznosti');
    const scoreEl = document.getElementById('score');
    const timeEl = document.getElementById('time');
    const toggleMusicBtn = document.getElementById('toggleMusic');

    function shuffle(array) {
      for(let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function startGame() {
      score = 0;
      scoreEl.textContent = score;
      currentIndex = -1;
      nextVtip();
    }

    function nextVtip() {
      clearInterval(timerInterval);
      timeLeft = 15;
      timeEl.textContent = timeLeft;

      currentIndex++;
      if(currentIndex >= vtipy.length) {
        alert("Hra skončila! Tvé skóre je: " + score);
        currentIndex = 0;
        score = 0;
        scoreEl.textContent = score;
      }

      const vtip = vtipy[currentIndex];
      vtipEl.textContent = vtip.text;

      const options = shuffle([vtip.answer, ...vtip.wrong]);

      moznostiEl.innerHTML = '';
      options.forEach(option => {
        const btn = document.createElement('button');
        btn.textContent = option;
        btn.onclick = () => checkAnswer(option);
        moznostiEl.appendChild(btn);
      });

      timerInterval = setInterval(() => {
        timeLeft--;
        timeEl.textContent = timeLeft;
        if(timeLeft <= 0) {
          clearInterval(timerInterval);
          alert("Čas vypršel! Správná odpověď byla: " + vtip.answer);
          nextVtip();
        }
      }, 1000);
    }

    function checkAnswer(selected) {
      clearInterval(timerInterval);
